<div class="container pt-5">
    <div class="row justify-content-sm-center pt-5">
        <div class="col-sm-6 shadow round pb-3">
          <h1 class="text-center pt-3 text-secondary">Front end developer form</h1>
            <form [formGroup]="devForm">

                <div class="form-row">
                    <div class="form-group col-6">
                        <label for="inputFirstName">Name:</label>
                        <input type="text" class="form-control"  formControlName="inputFirstName" id="inputFirstName" placeholder="First name" appValidField>
                        <small  class="invalid-feedback">Please input name</small>
                    </div>
                    <div class="form-group col-6">
                        <label for="inputLastName">Surname:</label>
                        <input type="text" class="form-control" formControlName="inputLastName" id="inputLastName" placeholder="Last name" appValidField>
                        <small class="invalid-feedback" >Please input last name</small>
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Date birthday:</span>
                        </div>
                        <input class="form-control" placeholder="yyyy-mm-dd"
                                name="dp" formControlName="dbDatePicker" ngbDatepicker  [minDate]="{year: 1930, month:1, day: 1}" #d="ngbDatepicker" appValidField>
                        <div class="input-group-append">
                        <button i-bs [name]="iconNames.Calendar4Event" class="btn btn-outline-secondary" (click)="d.toggle()" type="button"></button>
                      </div>
                    </div>
                </div>
    
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="selectJSFramework">JS framework:</label>
                        <select  id="selectJSFramework" class="form-control" formControlName="selectJSFramework" name="selectJSFramework"  appValidField> 
                            <option  [ngValue]="t" *ngFor="let t of technologies">{{t.name}}</option>
                        </select>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="selectVersion">Version:</label>
                        <select id="selectVersion" class="form-control" formControlName="selectVersion" name="selectVersion"  appValidField>
                            <option  [ngValue]="v" *ngFor="let v of selectedTechnology.versions">{{v}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                  <label class="col-form-label">Email:</label>
                  <input formControlName="email" type="text" class="form-control" appValidField >
                  <small class="invalid-feedback" *ngIf="!getEamilControlError()">Email is invalid</small>
                  <small class="invalid-feedback" *ngIf="getEamilControlError()">This email has been taken, please use another one.</small>
                </div>

                <div class="card  mb-3">
                    <div class="card-header">Add your hobbies:</div>
                    <div class="card-body">
                        <div formArrayName="hobbies" class="card mb-3"  *ngFor="let hobbie of hobbies.controls; let i=index">
                            <div class="row no-gutters ">
                                <div class="col-md-10">
                                    <div [formGroupName]="i" class="form-row card-body" >
                                        <div class="form-group col-6">
                                            <label for="inputHobbyName-{{ i }}">Hobby:</label>
                                            <input type="text" class="form-control"  formControlName="inputHobbyName" id="inputHobbyName-{{ i }}" placeholder="Write your hobby" appValidField>
                                            <small  class="invalid-feedback">Please input </small>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="selectHobbyDuration-{{ i }}">Duration:</label>
                                            <select id="selectHobbyDuration-{{ i }}" class="form-control" formControlName="selectHobbyDuration" name="selectHobbyDuration" 
                                            appValidField > 
                                                <option  *ngFor="let x of [].constructor(hobbieMonthRange) ;let i= index">{{i+1}} mounth</option> 
                                                <option  *ngFor="let x of [].constructor(hobbieYearsRange) ;let i= index">{{i+1}} years</option> 
                                            </select>
                                            <small  class="invalid-feedback">Please input </small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2 card-body  bg-light  ">
                                    <a (click)="deleteHobbieClick(i)" class="d-block py-4 text-center "  i-bs [name]="iconNames.XCircle" width="2rem" height="2rem" >
                                    </a>
                                </div>
                            </div>
                        </div>
                        <button (click)="addHobbieClick()" i-bs [name]="iconNames.PlusCircle" width="2rem" height="2rem" class="btn btn-outline-primary" type="button"></button>
                    </div>
                </div>
                <button type="submit" (click)="onSubmit()" [disabled]="devForm.invalid" type="button" class="btn btn-primary">Send message</button>
              </form>
        </div>
    </div>
  </div>